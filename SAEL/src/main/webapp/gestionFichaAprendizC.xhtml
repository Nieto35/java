<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:b="http://bootsfaces.net/ui">

    <f:view contentType="text/html">
        <h:head>
            <ui:include src="templates/head.xhtml"/>
        </h:head>
        <h:body class="hold-transition sidebar-mini layout-fixed">
            <div class="wrapper">
                
                <ui:include src="templates/cabezote.xhtml" />
                
                <ui:include src="templates/menuCoordinador.xhtml" />
                
                <div class="content-wrapper">
                    
                    <h:form id="formulario">
                        <section class="content">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="card card-success card-outline">                                      
                                            
                                            <b:panel id="panelFichas" title="Asignar estado de ficha a aprendiz" collapsible="false" look="success" >                                    
                                                <!-- <p:messages id="mensajes" showDetail="true" closable="true" /> -->
                                                
                                                <b:commandLink style="text-align: left;" onclick="PF('helpDialog').show();" styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default">
                                                    <h:outputText styleClass="nav-icon  fas fa-question" />
                                                </b:commandLink>
                                                
                                                <!-- kampos de eskritura -->
                                                <b:panelGrid  columns="2" style="width: 100%;">   
                                                    <b:panelGrid  columns="2" id="paFicha" style="width: 100%;"> 
                                                        
                                                        <h:outputText value="Ficha:"/>
                                                        <b:inputText id="txtFicha" binding="#{fichaAprendizVista.txtFicha}" >
                                                            <p:ajax listener="#{fichaAprendizVista.txtFichaListener}" update="paFicha" />
                                                        </b:inputText>  

                                                        <h:outputText value="Programa:"/>
                                                        <p:outputLabel id="txtPrograma" value="#{fichaAprendizVista.txtPrograma}" />

                                                        <h:outputText value="Estado de formación:"/>
                                                        
                                                        <b:selectOneMenu id="cmbEstado" binding="#{fichaAprendizVista.cmbEstado}" style="width: 90%;">
                                                            <f:selectItems value="#{fichaAprendizVista.listaEstados}" />
                                                        </b:selectOneMenu>
                                                    </b:panelGrid>
                                                    <b:panelGrid  columns="2" style="width: 100%;">                                               

                                                        <h:outputText value="Identificación:"/>
                                                        <b:inputText id="txtDocumento" binding="#{fichaAprendizVista.txtDocumento}" >
                                                            <p:ajax listener="#{fichaAprendizVista.txtDocumentoListener}" update=":formulario:txtNombreAprendiz" />
                                                        </b:inputText>

                                                        <h:outputText value="Nombre:"/> 
                                                        <p:outputLabel id="txtNombreAprendiz" value="#{fichaAprendizVista.txtNombreAprendiz}" />
                                                    </b:panelGrid>                                                    
                                                </b:panelGrid>
                                            </b:panel>
                                            
                                            <!-- botones -->
                                            <div class="row" align="center">
                                                <div class="col-md-2"></div>                                                     
                                                <div class="col-md-2">      
                                                    <b:commandButton id="btnModificar" look="primary" disabled="true" value="Modificar" binding="#{fichaAprendizVista.btnModificar}" action="#{fichaAprendizVista.modificarAction}" update="formulario" />
                                                </div>
                                                <div class="col-md-2">    
                                                    <b:commandButton id="btnLimpiar" look="info" value="Limpiar" binding="#{fichaAprendizVista.btnLimpiar}" action="#{fichaAprendizVista.limpiarAction}" update="formulario" />
                                                </div> 
                                            </div>
                                            
                                            <p:spacer />
                                            <h:outputText value="Si desea buscar una ficha digite el dato en el filtro respectivo" />
                                            
                                            <!-- tabla -->
                                            <div class="row"> 
                                                <div class="col-md-12">
                                                    <b:panel id="panelDatos" title="Resultados" collapsible="false" look="success">
                                                        
                                                        <b:dataTable id="listaFichas" var="ficha" value="#{fichaAprendizVista.listaFichas}" searching="true"
                                                                     selection-mode="single" select="true" responsive="true" update=":formulario" 
                                                                     caption="Si desea buscar una ficha digite el dato en el filtro respectivo">
                                                            
                                                            <b:dataTableColumn label="Ficha" value="#{ficha.numeroficha}" style="text-align: center" />
                                                            <b:dataTableColumn label="Programa" value="#{ficha.codigoprograma.nombre}" style="text-align: center" />
                                                            
                                                        </b:dataTable>
                                                        
                                                    </b:panel>
                                                </div>
                                            </div>
                                        </div> 
                                    </div>
                                </div>
                            </div><!-- /.container-fluid -->
                        </section>                
                    </h:form>                    
                </div>
                <ui:include src="templates/footer.xhtml"/>
            </div>
        </h:body>

    </f:view>
</html>
